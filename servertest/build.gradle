import org.ajoberstar.grgit.Grgit

apply plugin: 'java'
apply plugin: 'scala'
apply plugin: 'net.nemerosa.versioning'

ext.repo = Grgit.open(project.rootDir)
group 'pl.warp'
version "${System.env.GIT_BRANCH ? System.env.GIT_BRANCH : versioning.info.branch}-0.1.2.${versioning.info.build}"

repositories {
    jcenter()
    maven {
        url "https://oss.sonatype.org/content/repositories/snapshots"
    }
}


dependencies {

    compile project(':core')
    compile project(':physics')
    compile project(':server')

    compile 'org.slf4j:slf4j-api:1.7.12'

    testCompile 'junit:junit:4.12'
}

jar {
    zip64 true
    from {
        configurations.compile
                .collect { it.isDirectory() ? it : zipTree(it) }
    }
    manifest {
        attributes 'Main-Class': 'pl.warp.servertest.Test'
    }
    baseName = "warp-server"
}
